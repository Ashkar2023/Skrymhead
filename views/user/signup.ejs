<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <style>
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
		
    </style>
</head>
<body>
	<section class="h-100" style="background-color: #000000;">
		<div class="container py-5 h-100">
			<div class="row d-flex justify-content-center align-items-center h-100">
				<div class="col-xl-10">
					<div class="card rounded-3">
						<div class="row g-0">
							<div class="col-lg-6 d-flex align-items-center"
								style="background-image: url(/kiran-ck-cDrIiiptFqE-unsplash.jpg);background-size: cover;">

							</div>
							<div class="col-lg-6  ">
								<div class="card-body bg-dark p-md-5 ">

									<div class="text-start">

										<h2 class="mt-1 mb-5 pb-1 text-white"><img src="/LOGO.png"
												style="width: 24px;margin-right:5px;" alt="logo">SKRYMHEAD</h2>
												<h4 class="text-white display-5 text-center">SIGN UP</h4>
												<br>
			
												<% if(locals.error!==undefined){ %>
													<small class="text-danger text-end" id="error">
														<%= error %>
													</small>
													<script>
														let error = document.getElementById("error");
														if (error.value !== null) {
															setTimeout(() => {
																error.style.opacity = '0';  // Set opacity to 0 for fade-out effect
																error.style.transition = 'opacity 0.5s ease-out';  // Set transition properties
			
																setTimeout(() => {
																	error.innerHTML = "";  // Clear content after the transition
																}, 500);  // Adjust timing to match transition duration
															}, 4000);
														} 
													</script>
													<% } %>
									</div>
									<form action="/signup" method="post" onsubmit="return validate()">

												<div class="form-outline mb-4">
													<label class="form-label text-white">Email<span class="text-danger">*</span></label>
													<input name="email" class="form-control" id="email"
														placeholder="useremail@123.com" />
													<small id="emailError" class="text-danger"></small>
												</div>
												<div class="form-outline mb-4">
													<label class="form-label text-white">Refferal code</label>
													<input name="referral" class="form-control" id="referral">
												</div>

												<div class="text-center pt-1 mb-5 pb-1">
													<button
														class="btn btn-primary btn-block fa-lg gradient-custom-2 mb-3"
														type="submit">Sign Up</button>
												</div>

												<div class="d-flex align-items-center justify-content-center pb-4">
													<p class="mb-0 text-white me-2">Already a member?</p>
													<a href="http://localhost:8000/login"><button type="button"
															class="btn btn-outline-danger">Login</button></a>
												</div>

									</form>

								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<script>
		localStorage.removeItem("timer");
		function validate() {
			const email = document.getElementById("email").value;
			// const emailRegex = /^[a-zA-Z0-9._%+-]+@gmail+\.[a-zA-Z]{3}$/;
			const emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

			const emailError = document.getElementById("emailError");
			emailError.innerHTML = "";

			if (email.trim() === "") {
				emailError.innerHTML = 'Field is required';
				return false;
			} else if (!emailRegex.test(email)) {
				emailError.innerHTML = "Please enter a valid email";
				return false;
			}

			return true;

		}
	</script>
	<%- include('../layouts/footer.ejs') %>